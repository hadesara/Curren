<!doctype html>
<html lang="en" ng-app>
<head>
  <meta charset="utf-8">
  <title>Currency converter</title>
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"/>
  <link rel="stylesheet" type="text/css" href="./lib/app.css">
  <script type="text/javascript" src="./lib/angular.js"></script> 
  <script type="text/javascript" src="./app.js"></script>
  <script type="text/javascript" src="./indexCtrl.js"></script>
  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  <style>

    </style>
</head>
<body ng-controller="indexCtrl" data-ng-init="getTransactions('USD')">

  <ul class="nav nav-tabs" id="myTab">
    <li class="active"><a href="#transactions" data-toggle="tab">Transactions</a></li>
    <li><a href="#add" data-toggle="tab">Add New Transaction</a></li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="transactions">
      <h2>User Transactions</h2>
      <p>
        <label>Change Currency: </label>
        <select id="newCurrency" ng-change="getTransactions(selectedItem)" ng-model="selectedItem">
          <option value="USD">USD</option>
          <option value="INR">INR</option>
          <option value="CNY">CNY</option>
          <option value="GBP">GBP</option>
        </select>
        <div class="container">
          <table class="table table-striped table-bordered table-condensed">
            <thead>
              <tr>
                <th>ProviderName</th>
                <th>Date</th>
                <th>Type</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
               <tr ng-repeat="transaction in transactions">
                   <td>
                       {{ transaction.ProviderName }}
                  </td>
                  <td>
                       {{ transaction.TransactionDate }}
                  </td>
                  <td>
                       {{ transaction.Type }}
                  </td>
                  <td>
                       {{ transaction.Amount }} 
                       {{transaction.currency }}
                  </td>
               </tr>
            </tbody>
          </table>
        </div>
      </p>
    </div>
    <div class="tab-pane" id="add" class="form-group">
     <h2>Add transaction:</h2>
      <p>
        <form id="addTransaction" class="well" ng-submit='add(transaction)' style="width:auto;">
         <table>
          <tr>
            <td>
              <label> Date: </label>
            </td>
            <td>
              <input type='date' id='transactionDate' name='transactionDate' class="span3" placeholder='Transaction Date' ng-model='transaction.transactionDate' required/> 
            </td>
          </tr>
          <tr>
            <td>
              <label> Service Provider: </label>
            </td>
            <td>
              <input type='text' id='provider' name='provider' class="span3" placeholder='Provider' ng-model='transaction.provider' required/> 
            </td>
          </tr>
          <tr>
            <td>
              <label> Type: </label>
            </td>
            <td>
              <input type='text' id='type' name='type' class="span3" placeholder='Type' ng-model='transaction.type' required/> 
            </td>
          </tr>
          <tr>
            <td>
              <label> Status: </label>
            </td>
            <td>
              <input type='text' id='status' name='status' class="span3" placeholder='Transaction Status' ng-model='transaction.status'/> 
            </td>
          </tr>
           <tr>
            <td>
              <label> Amount: </label>
            </td>
            <td>
              <input type='number' id='amount' name='amount' class='span3' placeholder='Amount' ng-model='transaction.amount' min='0' max='999999' step='0.01' required/>
            </td>
          </tr>
           <tr>
            <td>
              <label> Currency: </label>
            </td>
            <td>
              <select ng-model="transaction.currency" required>
                <option value="USD">USD</option>
                <option value="INR">INR</option>
                <option value="CNY">CNY</option>
                <option value="GBP">GBP</option>
              </select>
            </td>
          </tr>
        </table>
        <button id="Add Transaction" class="btn" type="submit">Add</button> 
        <button id="Clear" class="btn">Clear</button>
       </form>
      </p>
    </div>
  </div>
</body>
</html>
